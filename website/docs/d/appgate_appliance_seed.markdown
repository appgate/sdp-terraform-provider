---
layout: "appgate"
page_title: "APPGATE: appgate_appliance_seed"
sidebar_current: "docs-appgate-datasource-administrative_role"
description: |-
  The administrative_role data source provides details about a specific administrative_role.
---

# appgate_appliance_seed

The `appgate_appliance_seed` data source provides means to get the seed file for an appliance.


## Example Usage

```hcl


data "appgate_appliance_seed" "gateway_seed_file" {
  depends_on = [
    appgate_appliance.new_gateway,
  ]
  appliance_id   = appgate_appliance.new_gateway.id
  password       = "cz"
  latest_version = true
}

```

### Example seed an deactivated appliance.

```hcl

resource "appgate_appliance" "new_gateway" {}

data "appgate_appliance_seed" "gateway_seed_file" {
  depends_on = [
    appgate_appliance.new_gateway,
  ]
  appliance_id   = appgate_appliance.new_gateway.id
  password       = "cz"
  latest_version = true
}

resource "null_resource" "seed_gateway" {

  depends_on = [
    data.appgate_appliance_seed.gateway_seed_file,
  ]

  connection {
    type        = "ssh"
    user        = "cz"
    timeout     = "25m"
    private_key = file(var.private_key)
    host        = var.gateway_dns
  }


  provisioner "local-exec" {
    command = "echo ${data.appgate_appliance_seed.gateway_seed_file.seed_file} > seed.b64"
  }
  provisioner "remote-exec" {
    inline = [
      "echo ${data.appgate_appliance_seed.gateway_seed_file.seed_file}  > raw.b64",
      "cat raw.b64 | base64 -d  | jq .  >> seed.json",
    ]
  }
}
```

## Argument Reference

* appliance_id - (Required) uuid of appliance.
* provide_cloud_ssh_key - (Optional) Tells appliance to use the key generated by AWS or Azure.
* ssh_key - (Optional) SSH public key to allow.
* latest_version - (Optional) If the Appliance object created on an old Controller and the version field is older than the current peer version, Controller generates a seed for that specific version. Adding this parameter overrides the version to the current one.
* password - (Optional) Appliance's CZ user password.
* seed_file - (Computed) base64 encoded string of the seed file in JSON format.
